parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"oxqQ":[function(require,module,exports) {
"use strict";function t(t,e=document,s=!1){const i=e.querySelectorAll(t),n=Array.from(i);return s?n:1==n.length?n[0]:n}function e(){return window.innerWidth>775}function s(t){return"true"===t||"false"===t}function i(t){return!isNaN(parseInt(t))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.$=t,exports.isDesktop=e,exports.isBoolean=s,exports.isNumber=i,Element.prototype.animate=function(t,e,s=400,i="ease-in-out",n){this.classList.add("animating"),this.style.transition=`${t} ${s}ms ${i}`,setTimeout(()=>{this.style[t]=e,this.addEventListener("transitionend",()=>{this.classList.remove("animating"),"function"==typeof n&&n()})},100)},Element.prototype.fadeIn=function(t=400,e=!1,s=1,i){const n=this.style.transition;this.classList.add("fading"),this.style.transition=`opacity ${t}ms ease-in`,e&&(this.style.display=!0===e?"":e),setTimeout(()=>{this.style.opacity=s},100),setTimeout(()=>{this.classList.remove("fading"),this.style.transition=n,"function"==typeof i&&i()},t+200)},Element.prototype.fadeOut=function(t=400,e=!1,s=0,i){const n=this.style.transition;this.classList.add("fading"),this.style.transition=`opacity ${t}ms ease-out`,setTimeout(()=>{this.style.opacity=s},100),setTimeout(()=>{this.classList.remove("fading"),this.style.transition=n,e&&(this.style.display="none"),"function"==typeof i&&i()},t+200)},Element.prototype.data=function(t,e){if(void 0===e){const e=this.getAttribute(`data-${t}`);let n=e;return i(e)&&(n=parseInt(e)),s(e)&&(n="true"==e),n}return this.setAttribute(`data-${t}`,e)};
},{}],"LPuC":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];!function(e){"use strict";var t=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(r="application/font-woff",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise(function(t){e.toBlob(t)}):function(e){return new Promise(function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))})}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){var t=3e4;return new Promise(function(n){var r=new XMLHttpRequest;function o(e){console.error(e),n("")}r.onreadystatechange=function(){if(4!==r.readyState)return;if(200!==r.status)return void o("cannot fetch resource: "+e+", status: "+r.status);var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];n(e)},t.readAsDataURL(r.response)},r.ontimeout=function(){o("timeout of "+t+"ms occured while fetching resource: "+e)},r.responseType="blob",r.timeout=t,r.open("GET",e,!0),r.send()})},uid:(e=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}),delay:function(e){return function(t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e})},width:function(e){var t=n(e,"border-left-width"),r=n(e,"border-right-width");return e.scrollWidth+t+r},height:function(e){var t=n(e,"border-top-width"),r=n(e,"border-bottom-width");return e.scrollHeight+t+r}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),n=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,t,i){return n(e)?Promise.resolve(e).then(r).then(function(n){var r=Promise.resolve(e);return n.forEach(function(e){r=r.then(function(n){return o(n,e,t,i)})}),r}):Promise.resolve(e)},shouldProcess:n,impl:{readUrls:r,inline:o}};function n(t){return-1!==t.search(e)}function r(n){for(var r,o=[];null!==(r=e.exec(n));)o.push(r[1]);return o.filter(function(e){return!t.isDataUrl(e)})}function o(e,n,r,o){return Promise.resolve(n).then(function(e){return r?t.resolveUrl(e,r):e}).then(o||t.getAndEncode).then(function(e){return t.dataAsUrl(e,t.mimeType(n))}).then(function(r){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+t.escape(e)+")(['\"]?\\))","g")}(n),"$1"+r+"$3")})}}(),r=function(){return{resolveAll:function(){return e(document).then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})},impl:{readAll:e}};function e(){return Promise.resolve(t.asArray(document.styleSheets)).then(function(e){var n=[];return e.forEach(function(e){try{t.asArray(e.cssRules||[]).forEach(n.push.bind(n))}catch(r){console.log("Error while reading CSS rules from "+e.href,r.toString())}}),n}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return n.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(t){return t.map(e)});function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return n.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),o=function(){return{inlineAll:function r(o){if(!(o instanceof Element))return Promise.resolve(o);return function(e){var t=e.style.getPropertyValue("background");return t?n.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)}(o).then(function(){return o instanceof HTMLImageElement?e(o).inline():Promise.all(t.asArray(o.childNodes).map(function(e){return r(e)}))})},impl:{newImage:e}};function e(e){return{inline:function(n){return t.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(n||t.getAndEncode).then(function(n){return t.dataAsUrl(n,t.mimeType(e.src))}).then(function(t){return new Promise(function(n,r){e.onload=n,e.onerror=r,e.src=t})})}}}}(),i={toSvg:u,toPng:function(e,t){return c(e,t||{}).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return c(e,t=t||{}).then(function(e){return e.toDataURL("image/jpeg",t.quality||1)})},toBlob:function(e,n){return c(e,n||{}).then(t.canvasToBlob)},toPixelData:function(e,n){return c(e,n||{}).then(function(n){return n.getContext("2d").getImageData(0,0,t.width(e),t.height(e)).data})},impl:{fontFaces:r,images:o,util:t,inliner:n}};function u(e,n){return n=n||{},Promise.resolve(e).then(function(e){return function(e,n,r){if(!r&&n&&!n(e))return Promise.resolve();return Promise.resolve(e).then(function(e){return e instanceof HTMLCanvasElement?t.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(r){return function(e,n,r){var o=e.childNodes;return 0===o.length?Promise.resolve(n):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return a(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(n,t.asArray(o),r).then(function(){return n})}(e,r,n)}).then(function(n){return function(e,n){return n instanceof Element?Promise.resolve().then(function(){var r,o;r=window.getComputedStyle(e),o=n.style,r.cssText?o.cssText=r.cssText:function(e,n){t.asArray(e).forEach(function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))})}(r,o)}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var u=t.uid();n.className=n.className+" "+u;var c=document.createElement("style");c.appendChild(function(e,n,r){var o="."+e+":"+n,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return t.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(u,r,o)),n.appendChild(c)}}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(n.innerHTML=e.value),e instanceof HTMLInputElement&&n.setAttribute("value",e.value)}).then(function(){n instanceof SVGElement&&(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n instanceof SVGRectElement&&["width","height"].forEach(function(e){var t=n.getAttribute(e);t&&n.style.setProperty(e,t)}))}).then(function(){return n}):n}(e,n)})}(e,n.filter,!0)}).then(s).then(f).then(function(e){n.bgcolor&&(e.style.backgroundColor=n.bgcolor);n.width&&(e.style.width=n.width+"px");n.height&&(e.style.height=n.height+"px");n.style&&Object.keys(n.style).forEach(function(t){e.style[t]=n.style[t]});return e}).then(function(r){return function(e,n,r){return Promise.resolve(e).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)}).then(t.escapeXhtml).then(function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"}).then(function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+r+'">'+e+"</svg>"}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e})}(r,n.width||t.width(e),n.height||t.height(e))})}function c(e,n){return u(e,n).then(t.makeImage).then(t.delay(100)).then(function(r){var o=function(e){var r=document.createElement("canvas");if(r.width=n.width||3*t.width(e),r.height=n.height||3*t.height(e),r.style.width=t.width(e),r.style.height=t.height(e),n.bgcolor){var o=r.getContext("2d");o.fillStyle=n.bgcolor,o.fillRect(0,0,r.width,r.height)}return r}(e),i=o.getContext("2d");return i.scale(3,3),i.drawImage(r,0,0),o})}function a(e,n,r){if(!r&&n&&!n(e))return Promise.resolve();return Promise.resolve(e).then(o).then(function(t){return i(e,t,n)}).then(function(t){return u(e,t)});function o(e){return e instanceof HTMLCanvasElement?t.makeImage(e.toDataURL()):e.cloneNode(!1)}function i(e,n,r){var o=e.childNodes;return 0===o.length?Promise.resolve(n):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return a(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(n,t.asArray(o),r).then(function(){return n});function i(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return a(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}}function u(e,n){return n instanceof Element?Promise.resolve().then(function(){!function(e,n){e.cssText?n.cssText=e.cssText:function(e,n){t.asArray(e).forEach(function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))})}(e,n)}(window.getComputedStyle(e),n.style)}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""===i||"none"===i)return;var u=t.uid();n.className=n.className+" "+u;var c=document.createElement("style");c.appendChild(function(e,n,r){var o="."+e+":"+n,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return t.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(u,r,o)),n.appendChild(c)}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(n.innerHTML=e.value);e instanceof HTMLInputElement&&n.setAttribute("value",e.value)}).then(function(){if(!(n instanceof SVGElement))return;if(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),!(n instanceof SVGRectElement))return;["width","height"].forEach(function(e){var t=n.getAttribute(e);t&&n.style.setProperty(e,t)})}).then(function(){return n}):n;function r(){function r(e,n){if(e.cssText)n.cssText=e.cssText;else r(e,n);function r(e,n){t.asArray(e).forEach(function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))})}}r(window.getComputedStyle(e),n.style)}function o(){function r(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(i===""||i==="none")return;var u=t.uid();n.className=n.className+" "+u;var c=document.createElement("style");function a(e,n,r){var o="."+e+":"+n,i=r.cssText?u(r):c(r);return document.createTextNode(o+"{"+i+"}");function u(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function c(e){return t.asArray(e).map(n).join("; ")+";";function n(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}c.appendChild(a(u,r,o)),n.appendChild(c)}[":before",":after"].forEach(function(e){r(e)})}function i(){if(e instanceof HTMLTextAreaElement)n.innerHTML=e.value;if(e instanceof HTMLInputElement)n.setAttribute("value",e.value)}function u(){if(!(n instanceof SVGElement))return;if(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),!(n instanceof SVGRectElement))return;["width","height"].forEach(function(e){var t=n.getAttribute(e);if(!t)return;n.style.setProperty(e,t)})}}}function s(e){return r.resolveAll().then(function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e})}function f(e){return o.inlineAll(e).then(function(){return e})}"undefined"!=typeof module?module.exports=i:e.domtoimage=i}(this);
},{}],"qqVz":[function(require,module,exports) {
module.exports="placeholder.cd8f7031.png";
},{}],"rzf8":[function(require,module,exports) {
module.exports={placeholder:require("./placeholder.png")};
},{"./placeholder.png":"qqVz"}],"kwCf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostBuilder=void 0;var e=require("../common.js"),t=require("../index.js"),s=require("../../img/*.png");class i{constructor(e,t,s,i){this.tweet=e,this.user=t,this.media=s,this.theme=i,this.top}async createPhoto(){const s=(0,e.$)(".post-container");s.querySelectorAll("*").forEach(i=>{i.classList.contains("ignore")&&i.fadeOut(200,!0,void 0,async()=>{await(0,t.createScreenshot)(s,(0,e.$)(".content")),s.querySelectorAll("*").forEach(e=>{e.classList.contains("ignore")&&e.fadeIn(300,!0)})})})}display(){this.build(!1)}build(t=!1){const i=t?"ref-":"",r=(0,e.$)(`.${i}post-container`),n=t?this.tweet.referenced_tweet.user:this.user,o=t?this.tweet.referenced_tweet.tweet:this.tweet,a=t?this.tweet.referenced_tweet.media:this.media,c=o.date,l=o.likes,d=.55*window.innerHeight;r.style.opacity=1,(0,e.$)(".avatar",r).src=n.profile_image_url.replace("_normal",""),(0,e.$)(".name").innerHTML=n.name,(0,e.$)(".username").innerText=`@${n.username}`,(0,e.$)(".text").innerHTML=this.parseText(o.text),(0,e.$)(".datetime-time").innerHTML=`${c.hours}:${c.minutes}`,(0,e.$)(".datetime-date").innerHTML=`${c.day} ${c.month} ${c.year}`,(0,e.$)(".likes-amount").innerHTML=l>=1e3?`${parseFloat(l/1e3).toFixed(1)}k`:l,(0,e.$)(".verified").style.display=n.verified?"inline-block":"none",this.applyTheme(this.theme),(0,e.$)(".media").forEach(e=>{e.classList.add("hidden")});var p=0;if((0,e.$)(".media-1 > img").src=s.placeholder,void 0!==a){(0,e.$)(".text").classList.remove("nomedia");const t=a.length,s=(0,e.$)(`.media-${t}`);if(s.classList.remove("hidden"),1===t){const t=a[0].width/a[0].height;p=((0,e.$)(".post-container").offsetWidth-40)/t,(0,e.$)(".media-1 > img").classList.contains("cropped")&&p>d&&(p=d),p+=(0,e.$)(".post-container").offsetHeight,s.querySelector("img").src="photo"===a[0].type?a[0].url:a[0].preview_image_url}else{let t=0;s.querySelectorAll(".media-content").forEach(e=>{const s="photo"===a[t].type?a[t].url:a[t].preview_image_url;e.style.backgroundImage=`url(${s})`,t++}),p=(0,e.$)(".post-container").offsetHeight}}else p+=(0,e.$)(".post-container").offsetHeight,(0,e.$)(".text").classList.add("nomedia");this.top=(window.innerHeight-p)/2,(0,e.$)(".post-container").style[(0,e.isDesktop)()?"top":"marginTop"]=this.top}parseText(e){if(!e)return"";const s=e.split("\n");let i="";s.forEach(e=>{i+=e+" <br> "});const r=i.split(" ");return i="",r.forEach(e=>{if("@"===e.charAt(0)||"#"===e.charAt(0)||t.urlRegex.test(e))i+=`<span class="text-accent">${e} </span>`;else{if(e.includes("#"))return void(i+=`<span class="text-accent">${e.substring(e.indexOf("#")+1)} </span>`);if(e.includes("@"))return void(i+=`<span class="text-accent">${e.substring(e.indexOf("@")+1)} </span>`);i+=e+" "}}),i.trim(),i}createReferencedTweet(){const t=(0,e.$)(".post-container"),s=t.cloneNode(!0);s.className=".ref-post-container",s.querySelector(".bubbles-container").remove(),t.appendChild(s)}applyTheme(t){(0,e.$)(".post-container").style.backgroundColor=t.background,(0,e.$)(".text-primary",document,!0).forEach(e=>e.style.color=t.text.primary),(0,e.$)(".text-secondary",document,!0).forEach(e=>e.style.color=t.text.secondary),(0,e.$)(".text-accent",document,!0).forEach(e=>e.style.color=t.accent),(0,e.$)(".verified > path").style.fill=t.text.primary}getPostTop(){return this.top}}exports.PostBuilder=i;
},{"../common.js":"oxqQ","../index.js":"g2Hq","../../img/*.png":"rzf8"}],"w3bu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Themes=exports.Accents=exports.Theme=void 0;class e{constructor(e,s,t,F){this.background=e,this.accent=s,this.text={primary:t,secondary:F}}}exports.Theme=e;const s={BLUE:"#1DA1F2",YELLOW:"#FFAD1F",RED:"#E0245E",PURPLE:"#794BC4",ORANGE:"#F45D22",GREEN:"#17BF63"};exports.Accents=s;const t={WHITE:new e("#FFFFFF",s.BLUE,"#0F1419","#7A7A7A"),DIM:new e("#14202A",s.BLUE,"#FFFFFF","#8899A6"),MIDNIGHT:new e("#000000",s.BLUE,"#D9D9D9","#6E767D")};exports.Themes=t;
},{}],"KAEt":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"function"==typeof e&&e.amd?e([],n):"undefined"!=typeof exports?n():(n(),t.FileSaver={})}(this,function(){"use strict";function e(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){r(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(t,i,r){var s=a.URL||a.webkitURL,c=document.createElement("a");i=i||t.name||"download",c.download=i,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):n(c.href)?e(t,i,r):o(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){o(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(t,i),a);else if(n(t))e(t,a,i);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){o(r)})}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var s="application/octet-stream"===t.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(t)}else{var f=a.URL||a.webkitURL,d=f.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});a.saveAs=r.saveAs=r,"undefined"!=typeof module&&(module.exports=r)});
},{}],"rJZb":[function(require,module,exports) {
module.exports="border-radius-off.07c7775f.svg";
},{}],"tW5m":[function(require,module,exports) {
module.exports="border-radius-on.93f9dafb.svg";
},{}],"WNCp":[function(require,module,exports) {
module.exports="calendar.86c61b52.svg";
},{}],"WoPC":[function(require,module,exports) {
module.exports="heart-filled.e73b59b7.svg";
},{}],"pk04":[function(require,module,exports) {
module.exports="heart-outline.ae14de8a.svg";
},{}],"u8YO":[function(require,module,exports) {
module.exports="theme-dim.20f85d66.svg";
},{}],"sQVI":[function(require,module,exports) {
module.exports="theme-midnight.7d939f9a.svg";
},{}],"RL7J":[function(require,module,exports) {
module.exports="theme-white.a4172356.svg";
},{}],"N9KE":[function(require,module,exports) {
module.exports={"border-radius-off":require("./border-radius-off.svg"),"border-radius-on":require("./border-radius-on.svg"),calendar:require("./calendar.svg"),"heart-filled":require("./heart-filled.svg"),"heart-outline":require("./heart-outline.svg"),"theme-dim":require("./theme-dim.svg"),"theme-midnight":require("./theme-midnight.svg"),"theme-white":require("./theme-white.svg")};
},{"./border-radius-off.svg":"rJZb","./border-radius-on.svg":"tW5m","./calendar.svg":"WNCp","./heart-filled.svg":"WoPC","./heart-outline.svg":"pk04","./theme-dim.svg":"u8YO","./theme-midnight.svg":"sQVI","./theme-white.svg":"RL7J"}],"g2Hq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createScreenshot=y,exports.urlRegex=void 0;var e,t=require("./common.js"),i=r(require("retina-dom-to-image")),s=require("./obj/PostBuilder.js"),a=require("./obj/theme.js"),o=require("file-saver"),n=r(require("../img/icons/options/*.svg"));function r(e){return e&&e.__esModule?e:{default:e}}var c=!1,d=!1;const l=/(https?:\/\/)?[\w\-~]+(\.[\w\-~]+)+(\/[\w\-~@:%]*)*(#[\w\-]*)?(\?[^\s]*)?/gi;exports.urlRegex=l;const u="AAAAAAAAAAAAAAAAAAAAALCNNwEAAAAAO0fvQSwiER9X%2FAFxKChvRxgDGYI%3DoWtrE96FRLO8i9nwNxeypKwG9YgCrYWniLg2cVQLTfIqShqTkB",p=Object.keys(a.Themes),f=["disabled","outline","filled"],m=["full","date","disabled"],h=["on","off"];function v(){setTimeout(()=>{(0,t.$)(".settings-container").classList.remove("visible")},200),(0,t.$)(".option").forEach(e=>{e.classList.contains("settings")||e.fadeOut(300,!0)}),d=!1}function $(){(0,t.$)(".settings-container").classList.add("visible"),setTimeout(()=>{(0,t.$)(".option").forEach(e=>{e.classList.contains("settings")||e.fadeIn(300,"flex")})},600),d=!0}function g(t){(e=new s.PostBuilder(t.tweet,t.user,t.media,a.Themes[p[p.active]])).display(),c=!0}function b(e){if(void 0===e)throw new Error("No post provided");const t=e.data,i=new Date(t.created_at).toString().split(" GMT")[0].split(" "),s=i[i.length-1].split(":"),a={full:i.join(" "),dayName:i[0],month:i[1],day:i[2],year:i[3],hours:s[0],minutes:s[1],seconds:s[2]},o=t.text.split(" ");return e.includes.media&&o.pop(),{tweet:{id:t.id,likes:t.public_metrics.like_count,date:a,text:o.join(" ")},user:e.includes.users[0],media:e.includes.media}}async function w(e="1343331784621256709"){const t={"tweet.fields":"created_at,author_id,public_metrics,referenced_tweets",expansions:"author_id,attachments.media_keys","user.fields":"created_at,profile_image_url,username,verified,name","media.fields":"url,preview_image_url,height,width"};let i="";for(let a in t)i+=""===i?"?":"&",i+=`${a}=${t[a]}`;const s=`https://cors.bridged.cc/https://api.twitter.com/2/tweets/${e}${i}`;return await fetch(s,{headers:{Authorization:`Bearer ${u}`}}).then(e=>e.json())}async function y(t,s,a=!0){a?await i.default.toBlob(t,{style:{marginTop:0,top:0,position:"unset"}}).then(function(t){const i=`${e.user.username}_${e.tweet.id}`;(0,o.saveAs)(t,i)}).catch(function(e){console.error("Something went wrong!: ",e)}):await i.default.toPng(t).then(function(e){const t=document.createElement("img");t.src=e;const i=s.appendChild(t);i.style.position="absolute",i.style.top=0,i.style.zIndex=2}).catch(function(e){console.error("Could not render image: ",e)})}p.active=0,f.active=0,m.active=0,h.active=0,window.addEventListener("load",()=>{(0,t.$)(".container").style.opacity=1,(0,t.$)("img").forEach(e=>e.draggable=!1),console.log("%c Made by: %c https://kazmierczyk.me/","background: linear-gradient(to left bottom, #d16ba5, #cf6fb1, #cb73be, #c678cb, #be7ed7, #b388e2, #a692ec, #999bf4, #8ba9f8, #83b5f9, #82c0f6, #89c9f2); color: #fff;","")}),(0,t.$)(".load").addEventListener("click",async()=>{const e=(0,t.$)(".tweet-input").value;let i=e||void 0;const s=e.split("/");s.length>1&&(i=(i=s[s.length-1]).split("?")[0]),(0,t.$)(".load").classList.add("dots");try{const e=await w(i),s=b(e),o=e.data.referenced_tweets;if(void 0!==o){const e=await w(o[0].id);s.tweet.referenced_tweet=b(e)}setTimeout(()=>{(0,t.$)(".load").classList.remove("dots"),(0,t.$)(".input-overlay").style.top=-window.innerHeight-200,(0,t.$)(".top-arrow").style.top=10,(0,t.$)(".top-arrow").classList.add("pulse")},500),g(s),(0,t.$)(".input-overlay").classList.contains("error")&&((0,t.$)(".input-overlay").classList.remove("error"),(0,t.$)(".load > span").innerHTML="LOAD")}catch(a){setTimeout(()=>{(0,t.$)(".load").classList.remove("dots"),(0,t.$)(".input-overlay").classList.add("error"),(0,t.$)(".load > span").innerHTML="TRY AGAIN"},300)}}),(0,t.$)(".top-arrow").addEventListener("click",()=>{(0,t.$)(".input-overlay").style.top=0,c=!1,setTimeout(()=>{(0,t.$)(".media-1 > img").src="",(0,t.$)(".media-content").forEach(e=>{e.style.backgroundImage=""})},1e3)}),(0,t.$)(".option").forEach(i=>{const s=i.id.replace("option-","");i.addEventListener("click",function(){switch(s){case"themes":p.active=p.active===p.length-1?0:p.active+1;const i=p[p.active];e.applyTheme(a.Themes[i]),(0,t.$)(".option-themes > img").src=n.default[`theme-${i.toLowerCase()}`];break;case"datetime":m.active=m.active===m.length-1?0:m.active+1;const o=m[m.active];if("disabled"===o){(0,t.$)(".datetime").fadeOut(300,!0),this.classList.add("option-disabled");break}if(this.classList.remove("option-disabled"),"full"===o){(0,t.$)(".datetime").querySelectorAll("span").forEach(e=>{e.fadeIn(1,"inline")}),(0,t.$)(".datetime").fadeIn(300,"block");break}"date"===o&&(0,t.$)(".datetime").querySelectorAll("span:not(.datetime-date)").forEach(e=>{e.fadeOut(300,!0)});break;case"radius":h.active=h.active===h.length-1?0:h.active+1;const r=h[h.active];(0,t.$)(".option-radius > img").src=n.default[`border-radius-${r}`],"off"===r?(0,t.$)(".post-container").classList.add("border-off"):(0,t.$)(".post-container").classList.remove("border-off");break;case"likes":f.active=f.active===f.length-1?0:f.active+1;const c=f[f.active];if("disabled"===c){(0,t.$)(".option-likes > img").src=n.default["heart-outline"],this.classList.add("option-disabled"),(0,t.$)(".likes").fadeOut(300,!0);break}this.classList.contains("option-disabled")&&(this.classList.remove("option-disabled"),(0,t.$)(".likes").fadeIn(300,"flex")),(0,t.$)(".likes > img").src=n.default[`heart-${c}`],(0,t.$)(".option-likes > img").src=n.default[`heart-${c}`]}})}),(0,t.$)(".settings").addEventListener("click",()=>{d?v():$()}),(0,t.$)(".save").addEventListener("click",()=>{e.createPhoto()}),window.addEventListener("resize",()=>{c&&((0,t.$)(".input-overlay").style.top=-window.innerHeight-200,(0,t.$)(".post-container").style[(0,t.isDesktop)()?"top":"marginTop"]=e.getPostTop(),(0,t.$)(".post-container").style[(0,t.isDesktop)()?"marginTop":"top"]="")});
},{"./common.js":"oxqQ","retina-dom-to-image":"LPuC","./obj/PostBuilder.js":"kwCf","./obj/theme.js":"w3bu","file-saver":"KAEt","../img/icons/options/*.svg":"N9KE"}]},{},["g2Hq"], null)
//# sourceMappingURL=scripts.7b184053.js.map